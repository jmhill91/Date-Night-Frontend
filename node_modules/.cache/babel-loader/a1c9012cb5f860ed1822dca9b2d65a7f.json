{"ast":null,"code":"var _jsxFileName = \"/Users/johnhill/dev/DateNightApp/DateNightAppFrontend/src/components/ProfilePage.js\";\nimport React from 'react';\nimport NavSidebar from '../containers/NavSideBar';\nimport PastDates from '../containers/PastDatesContainer';\nimport UpcomingDates from '../containers/UpcomingDatesContainer';\n\nclass ProfilePage extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      name: '',\n      userId: null,\n      currentDates: [],\n      pastDates: []\n    };\n  }\n\n  componentDidMount() {\n    if (localStorage.token) {\n      fetch('http://localhost:3000/profile', {\n        headers: {\n          Authorization: localStorage.token\n        }\n      }).then(res => res.json()).then(profileInfo => {\n        console.log(profileInfo);\n        profileInfo.data.attributes.rendezvous.forEach(dateNight => {\n          let currentTime = new Date().toISOString();\n          console.log(dateNight.date.toISOString(), currentTime);\n\n          if (dateNight.time > currentTime) {\n            console.log(dateNight);\n          }\n        });\n        this.setState({\n          name: profileInfo.data.attributes.name,\n          userId: profileInfo.data.id\n        });\n      });\n    } else {\n      this.props.history.push('/');\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, \"Welcome \", this.state.name), React.createElement(NavSidebar, {\n      history: this.props.history,\n      user_id: this.state.userId,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, \"Upcoming Dates\"), React.createElement(UpcomingDates, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, \"Past Dates\"), React.createElement(PastDates, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default ProfilePage;","map":{"version":3,"sources":["/Users/johnhill/dev/DateNightApp/DateNightAppFrontend/src/components/ProfilePage.js"],"names":["React","NavSidebar","PastDates","UpcomingDates","ProfilePage","Component","state","name","userId","currentDates","pastDates","componentDidMount","localStorage","token","fetch","headers","Authorization","then","res","json","profileInfo","console","log","data","attributes","rendezvous","forEach","dateNight","currentTime","Date","toISOString","date","time","setState","id","props","history","push","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAOC,SAAP,MAAsB,kCAAtB;AACA,OAAOC,aAAP,MAA0B,sCAA1B;;AAEA,MAAMC,WAAN,SAA0BJ,KAAK,CAACK,SAAhC,CAA0C;AAAA;AAAA;AAAA,SAC1CC,KAD0C,GAClC;AACNC,MAAAA,IAAI,EAAE,EADA;AAENC,MAAAA,MAAM,EAAE,IAFF;AAGNC,MAAAA,YAAY,EAAE,EAHR;AAINC,MAAAA,SAAS,EAAE;AAJL,KADkC;AAAA;;AAOxCC,EAAAA,iBAAiB,GAAG;AAClB,QAAIC,YAAY,CAACC,KAAjB,EAAwB;AACtBC,MAAAA,KAAK,CAAC,+BAAD,EAAkC;AACrCC,QAAAA,OAAO,EAAE;AACPC,UAAAA,aAAa,EAAEJ,YAAY,CAACC;AADrB;AAD4B,OAAlC,CAAL,CAKGI,IALH,CAKQC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EALf,EAMGF,IANH,CAMQG,WAAW,IAAG;AAClBC,QAAAA,OAAO,CAACC,GAAR,CAAYF,WAAZ;AACAA,QAAAA,WAAW,CAACG,IAAZ,CAAiBC,UAAjB,CAA4BC,UAA5B,CAAuCC,OAAvC,CAAgDC,SAAD,IAAe;AAC5D,cAAIC,WAAW,GAAG,IAAIC,IAAJ,GAAWC,WAAX,EAAlB;AACAT,UAAAA,OAAO,CAACC,GAAR,CAAYK,SAAS,CAACI,IAAV,CAAeD,WAAf,EAAZ,EAA2CF,WAA3C;;AACA,cAAID,SAAS,CAACK,IAAV,GAAiBJ,WAArB,EAAiC;AAC/BP,YAAAA,OAAO,CAACC,GAAR,CAAYK,SAAZ;AACD;AACF,SAND;AAOA,aAAKM,QAAL,CAAc;AACZ1B,UAAAA,IAAI,EAAEa,WAAW,CAACG,IAAZ,CAAiBC,UAAjB,CAA4BjB,IADtB;AAEZC,UAAAA,MAAM,EAAEY,WAAW,CAACG,IAAZ,CAAiBW;AAFb,SAAd;AAID,OAnBH;AAoBH,KArBC,MAqBO;AACP,WAAKC,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB;AACD;AACF;;AAECC,EAAAA,MAAM,GAAE;AACN,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAa,KAAKhC,KAAL,CAAWC,IAAxB,CADA,EAEA,oBAAC,UAAD;AAAY,MAAA,OAAO,EAAE,KAAK4B,KAAL,CAAWC,OAAhC;AAAyC,MAAA,OAAO,EAAE,KAAK9B,KAAL,CAAWE,MAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFA,EAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAHA,EAIA,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJA,EAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBALA,EAMA,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANA,CADF;AAUD;;AA7CuC;;AAgD1C,eAAeJ,WAAf","sourcesContent":["import React from 'react'\nimport NavSidebar from '../containers/NavSideBar'\nimport PastDates from '../containers/PastDatesContainer'\nimport UpcomingDates from '../containers/UpcomingDatesContainer'\n\nclass ProfilePage extends React.Component {\nstate = {\n  name: '',\n  userId: null,\n  currentDates: [],\n  pastDates: []\n}\n  componentDidMount() {\n    if (localStorage.token) {\n      fetch('http://localhost:3000/profile', {\n        headers: {\n          Authorization: localStorage.token\n        }\n      })\n        .then(res => res.json())\n        .then(profileInfo =>{\n          console.log(profileInfo);\n          profileInfo.data.attributes.rendezvous.forEach((dateNight) => {\n            let currentTime = new Date().toISOString()\n            console.log(dateNight.date.toISOString() , currentTime);\n            if (dateNight.time > currentTime){\n              console.log(dateNight);\n            }\n          })\n          this.setState({\n            name: profileInfo.data.attributes.name,\n            userId: profileInfo.data.id\n          })\n        })\n  }   else {\n    this.props.history.push('/')\n  }\n}\n\n  render(){\n    return(\n      <div>\n      <h1>Welcome {this.state.name}</h1>\n      <NavSidebar history={this.props.history} user_id={this.state.userId}/>\n      <h2>Upcoming Dates</h2>\n      <UpcomingDates />\n      <h2>Past Dates</h2>\n      <PastDates />\n      </div>\n    )\n  }\n}\n\nexport default ProfilePage\n"]},"metadata":{},"sourceType":"module"}